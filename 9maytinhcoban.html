<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>May tinh co ban</title>
    <link rel="stylesheet" href="9maytinh.css">
</head>
<body>
    <form action="">
        <table>
            <tr>
                <td colspan="4" ><input type="" style="text-align: right;" id="answer" value="0"></td>
            </tr>
            <tr>
                <th><button type="button" name="num" id="1" onclick="calculator(this)">1</button></th>
                <th><button type="button" name="num" id="2" onclick="calculator(this)">2</button></th>
                <th><button type="button" name="num" id="3" onclick="calculator(this)">3</button></th>
                <th><button type="button" name="num" id="+" onclick="calculator(this)">+</button></th>
            </tr>
            <tr>
                <th><button type="button" name="num" id="4" onclick="calculator(this)">4</button></th>
                <th><button type="button" name="num" id="5" onclick="calculator(this)">5</button></th>
                <th><button type="button" name="num" id="6" onclick="calculator(this)">6</button></th>
                <th><button type="button" name="num" id="-" onclick="calculator(this)">-</button></th>
            </tr>
            <tr>
                <th><button type="button" name="num" id="7" onclick="calculator(this)">7</button></th>
                <th><button type="button" name="num" id="8" onclick="calculator(this)">8</button></th>
                <th><button type="button" name="num" id="9" onclick="calculator(this)">9</button></th>
                <th><button type="button" name="num" id="x" onclick="calculator(this)">x</button></th>
            </tr>
            <tr>
                <th><button name="num" id="C" type="reset">C</button></th>
                <th><button type="button" name="num" id="0" onclick="calculator(this)">0</button></th>
                <th><button type="button" name="num" id="=" onclick ="display()">=</button></th>
                <th><button type="button" name="num" id="/" onclick="calculator(this)">/</button></th>
            </tr>
        </table>

    </form>

</body>
</html>

<script>
    let submit = document.getElementsByName('num');
    let newva = 0;
    let oldva = 0;
    let opera = '';
    let answer = ''; 
    let count = 0;


    function calculator(e){
        console.log('id input: '+e.getAttribute("id"))
        switch(e.getAttribute("id")){
            // case '1':
            //     calculator();
            //     break;
            case '+':
                opera = '+'
                break;
            case '-':
                opera = '-'
                break
            case 'x':
                opera = '*'
                break
            case '/':
                opera = '/'
                break;
            default:
                calculator1(e);
        }
        //console.log('opera: '+opera);
    }

    function calculator1(e){
        if(count==0){
            oldva=parseInt(e.getAttribute("id"));
            count++;
        }
        else {

            newva=parseInt(e.getAttribute("id"));
            console.log('n = '+newva);

            switch(opera){
                case '+':
                    oldva+=newva;
                    break;
                case '-':
                    oldva-=newva
                    break
                case '*':
                    oldva=oldva*newva
                    break
                case '/':
                    oldva/=newva
                    break;
            }
            console.log('o = '+oldva);
            //calculator2();
        }
        //console.log('id 2rd: '+e.getAttribute("id"))
        //display(e)
    }


    function display(){        //e here for check console
        // console.log('oldva = '+oldva)
        // console.log('newva: '+newva)
        //console.log('id 3rd: '+e.getAttribute("id"))
        document.getElementById('answer').value = oldva;
    }
</script>