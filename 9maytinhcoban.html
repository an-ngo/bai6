<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>May tinh co ban</title>
    <link rel="stylesheet" href="9maytinh.css">
</head>
<body>
    <form action="">
        <table>
            <tr>
                <td colspan="4" ><input type="" style="text-align: right;" id="answer" value="0"></td>
            </tr>
            <tr>
                <th><button type="button" name="num" id="1" onclick="getNumber(this)">1</button></th>
                <th><button type="button" name="num" id="2" onclick="getNumber(this)">2</button></th>
                <th><button type="button" name="num" id="3" onclick="getNumber(this)">3</button></th>
                <th><button type="button" name="num" id="+" onclick="get_opera(this)">+</button></th>
            </tr>
            <tr>
                <th><button type="button" name="num" id="4" onclick="getNumber(this)">4</button></th>
                <th><button type="button" name="num" id="5" onclick="getNumber(this)">5</button></th>
                <th><button type="button" name="num" id="6" onclick="getNumber(this)">6</button></th>
                <th><button type="button" name="num" id="-" onclick="get_opera(this)">-</button></th>
            </tr>
            <tr>
                <th><button type="button" name="num" id="7" onclick="getNumber(this)">7</button></th>
                <th><button type="button" name="num" id="8" onclick="getNumber(this)">8</button></th>
                <th><button type="button" name="num" id="9" onclick="getNumber(this)">9</button></th>
                <th><button type="button" name="num" id="x" onclick="get_opera(this)">x</button></th>
            </tr>
            <tr>
                <th><button name="num" id="C" type="reset">C</button></th>
                <th><button type="button" name="num" id="0" onclick="getNumber(this)">0</button></th>
                <th><button type="button" name="num" id="=" onclick ="calculator()">=</button></th>
                <th><button type="button" name="num" id="/" onclick="get_opera(this)">/</button></th>
            </tr>
        </table>

    </form>

</body>
</html>

<script>
    let submit = document.getElementsByName('num');
    let newva = '';
    let oldva = '';
    let opera = '';
    let answer = ''; 
    let count = 0;
    let numberContinue = 0;

    function get_opera(e){
        console.log('id input: '+e.getAttribute("id"))
        switch(e.getAttribute("id")){
            case '+':
                opera = '+'
                break;
            case '-':
                opera = '-'
                break
            case 'x':
                opera = '*'
                break
            case '/':
                opera = '/'
                break;
        }
        count++
        display();
        //console.log('opera: '+opera);
    }

    function getNumber(e){
        if(count==0){
            oldva=oldva+e.getAttribute("id");
            display()
        }
        else {
            newva=newva+e.getAttribute("id");
            display();

        }
    }

    function calculator(){
        switch(opera){
            case '+':
                oldva=parseInt(oldva)+parseInt(newva)
                break;
            case '-':
                oldva=parseInt(oldva)-parseInt(newva)
                    
                break
            case '*':
                        
                oldva=parseInt(oldva)*parseInt(newva)
                break
            case '/':
                            
                oldva=parseInt(oldva)/parseInt(newva)
                break;
        }
            document.getElementById('answer').value = oldva;
            newva=''
    }

    function display(){        //e here for check console
        // console.log('oldva = '+oldva)
        // console.log('newva: '+newva)
        //console.log('id 3rd: '+e.getAttribute("id"))
        document.getElementById('answer').value = oldva+' '+opera+' '+newva;
    }
</script>